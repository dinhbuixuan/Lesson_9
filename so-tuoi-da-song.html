<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>
<body>
    <input type="date" id="dateInput1">
    <p>Nhập vào ngày tháng năm sinh</p>
    <input type="date" id="dateInput2">
    <p>Nhập vào ngày tháng năm hiện tại</p>
    <button type="button" id="btn" onclick="KiemtraTuoi()">Kiểm tra tuổi</button>

    <script>
        function KiemtraTuoi() {
            let dateInput1 = document.getElementById("dateInput1");
            let selectedDate1 = new Date(dateInput1.value);
            let d1 = selectedDate1.getDate();
            let m1 = selectedDate1.getMonth() + 1; // Lưu ý: tháng trong js bắt đầu từ 0 nên cần cộng thêm 1 
            let y1 = selectedDate1.getFullYear();

            let dateInput2 = document.getElementById("dateInput2");
            let selectedDate2 = new Date(dateInput2.value);
            let d2 = selectedDate2.getDate();
            let m2 = selectedDate2.getMonth() + 1; // Lưu ý: tháng trong js bắt đầu từ 0 nên cần cộng thêm 1 
            let y2 = selectedDate2.getFullYear();
                console.log(d1, m1, y1, d2, m2, y2);
            if(y2 > y1 && m2 >= m1 && d2 >= d1){
                let d = d2 - d1;
                let m = m2 - m1;
                let y = y2 - y1;
                result = "Bạn đã sống " + y + " năm " + m + " tháng và " + d + " ngày";
            }
            if(y2 > y1 && m2 < m1 && d2 >= d1){
                let d = d2 - d1;
                let m = 12 + m2 - m1;
                let y = y2 - y1 -1;
                result = "Bạn đã sống " + y + " năm " + m + " tháng và " + d + " ngày";
            }
            if(y2 > y1 && m2 <= m1 && d2 < d1){
                if(m1 == 1 || m1 == 3 || m1 == 5 || m1 == 7 || m1 == 8 || m1 == 10 || m1 == 12){
                     let d = 32 - d1 + d2;
                     let m = 11 + m2 - m1;
                     let y = y2 - y1 -1;
                result = "Bạn đã sống " + y + " năm " + m + " tháng và " + d + " ngày";
                }
                if(m1 == 4 || m1 == 6 || m1 == 9 || m1 == 11){
                      let d = 31 - d1 + d2;
                      let m = 11 + m2 - m1;
                      let y = y2 - y1 -1;
                result = "Bạn đã sống " + y + " năm " + m + " tháng và " + d + " ngày";
                }
                if(m1 == 2){
                      let d = 29 - d1 + d2;
                      let m = 11 + m2 - m1;
                      let y = y2 - y1 -1;
                      result = "Bạn đã sống " + y + " năm" + m + " tháng" + d + " ngày";
                 }
                }
            if(y2 > y1 && m2 > m1 && d2 < d1){
                if(m1 == 1 || m1 == 3 || m1 == 5 || m1 == 7 || m1 == 8 || m1 == 10 || m1 == 12){
                     let d = 32 - d1 + d2;
                     let m = m2 - m1 - 1;
                     let y = y2 - y1;
                result = "Bạn đã sống " + y + " năm " + m + " tháng và " + d + " ngày";
                }
                if(m1 = 4 || m1 == 6 || m1 == 9 || m1 == 11){
                      let d = 31 - d1 + d2;
                      let m = m2 - m1 - 1;
                      let y = y2 - y1;
                result = "Bạn đã sống " + y + " năm " + m + " tháng và " + d + " ngày";
                }
                if(m1 == 2){
                      let d = 29 - d1 + d2;
                      let m = m2 - m1 - 1;
                      let y = y2 - y1;
                      result = "Bạn đã sống " + y + " năm" + m + " tháng" + d + " ngày";
                 }
            }
            if(y2 == y1 && m2 >= m1 && d2 >= d1){
                let m = m2 - m1;
                let y = y2 - y1;
                result = "Bạn đã sống " + m + " tháng và " + d + " ngày";
            }
            if(y2 == y1 && m2 < m1){
                result = "Dữ liệu bạn nhập vào không đúng";
            }
            if(y2 == y1 && m2 == m1 && d2 < d1){
                result = "Dữ liệu bạn nhập vào không đúng";
            }
            if(y2 == y1 && m2 == m1 && d2 > d1){
                let d = d2 - d1;
                result = "Bạn đã sống được vài ngày ";
            }
            if(y2 == y1 && m2 > m1 && d2 < d1){
                if(m1 == 1 || m1 == 3 || m1 == 5 || m1 == 7 || m1 == 8 || m1 == 10 || m1 == 12){
                     let d = 32 - d1 + d2;
                     let m = m2 - m1 - 1;
                result = "Bạn đã sống " + m + " tháng và " + d + " ngày";
                }
                if(m1 == 4 || m1 == 6 || m1 == 9 || m1 == 11){
                      let d = 31 - d1 + d2;
                      let m = m2 - m1 - 1;
                result = "Bạn đã sống " + m + " tháng và " + d + " ngày";
                }
                if(m1 == 2){
                      let d = 29 - d1 + d2;
                      let m = m2 - m1 - 1;
                      let y = y2 - y1;
                result = "Bạn đã sống " + m + " tháng và " + d + " ngày";
                 }
            }      
            document.getElementById("btn").innerHTML = result;
            
        }
    </script>
</body>
</html>